Bulk operation ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ ржПржХрж╕рж╛ржерзЗ ржЕржирзЗржХржЧрзБрж▓рзЛ ржбрзЗржЯрж╛ ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░рж╛ред

ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржпржЦржи ржЖржкржирж┐ ржПржХрж╕рж╛ржерзЗ ржПржХрж╛ржзрж┐ржХ row ржмрж╛ record ржЖржкржбрзЗржЯ, ржбрж┐рж▓рж┐ржЯ ржмрж╛ ржЗржирзНрж╕рж╛рж░рзНржЯ ржХрж░рзЗржи, рждржЦржи рж╕рзЗржЯрж╛ржХрзЗ bulk operation ржмрж▓рзЗред

ЁЯОБ ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ ржмрзЛржЭрж╛ржЗ:
ЁЯЯв рж╕рж╛ржзрж╛рж░ржгржнрж╛ржмрзЗ (loop ржХрж░рзЗ):
python
Copy
Edit
for p in Participant.objects.all():
    p.is_winner = False
    p.save()
ржПржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж╛ ржкрж╛рж░рзНржЯрж┐рж╕рж┐ржкрзЗржирзНржЯ рж▓рзБржк ржХрж░рзЗ рж╕рзЗржн рж╣ржЪрзНржЫрзЗ = slowред

ЁЯЯв Bulk operation ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ:
python
Copy
Edit
Participant.objects.update(is_winner=False)
ржПржЦрж╛ржирзЗ рж╕ржм ржкрж╛рж░рзНржЯрж┐рж╕рж┐ржкрзЗржирзНржЯ ржПржХрж╕рж╛ржерзЗ ржЖржкржбрзЗржЯ рж╣ржЪрзНржЫрзЗ = fastред


bulk operation ржХрж░рж╛рж░ ржХрж┐ржЫрзБ ржЙржжрж╛рж╣рж░ржг:

1. ржПржХрж╕рж╛ржерзЗ ржЕржирзЗржХ ржбрзЗржЯрж╛ ржЗржирзНрж╕рж╛рж░рзНржЯ ржХрж░рж╛:
Participant.objects.bulk_create([
    Participant(name='John', phone='123', email='john@example.com'),
    Participant(name='Jane', phone='456', email='jane@example.com'),
])

2. ржПржХрж╕рж╛ржерзЗ ржЕржирзЗржХ ржбрзЗржЯрж╛ ржЖржкржбрзЗржЯ ржХрж░рж╛:
Participant.objects.bulk_update([
    Participant(id=1, name='John Updated'),
    Participant(id=2, name='Jane Updated'), 
])

3. ржПржХрж╕рж╛ржерзЗ ржЕржирзЗржХ ржбрзЗржЯрж╛ ржбрж┐рж▓рж┐ржЯ ржХрж░рж╛:
Participant.objects.bulk_delete([
    Participant(id=1),
    Participant(id=2),
])

тЬЕ Bulk ржорж╛ржирзЗ ржХрзА?
Bulk ржорж╛ржирзЗ рж╣ржЪрзНржЫрзЗ тАФ ржПржХрж╕рж╛ржерзЗ ржЕржирзЗржХржЧрзБрж▓рж╛ ржбрзЗржЯрж╛рж░ ржУржкрж░ ржХрж╛ржЬ ржХрж░рж╛ред

ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ ржмрзБржЭрзБржи:
рзз. рж╕рж╛ржзрж╛рж░ржи ржнрж╛ржмрзЗ (ржПржХржЯрж╛ ржПржХржЯрж╛ ржХрж░рзЗ):
python
Copy
Edit
for participant in Participant.objects.all():
    participant.is_winner = False
    participant.save()
ржПржЦрж╛ржирзЗ ржкрзНрж░рждрзНржпрзЗржХржЯрж╛ ржбрзЗржЯрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ save() рж╣ржЪрзНржЫрзЗред ржЕржирзЗржХ ржЧрзБрж▓рзЛ SQL Query ржЪрж▓ржЫрзЗ тАФ ржзрзАрж░ ржХрж╛ржЬред

рзи. Bulk Update:
python
Copy
Edit
Participant.objects.update(is_winner=False)
ржПржЦрж╛ржирзЗ ржПржХржЯрж╛ржЗ SQL Query ржЪрж▓рзЗ:

sql
Copy
Edit
UPDATE participant SET is_winner = False;
рж╕ржмржЧрзБрж▓рж╛ ржбрзЗржЯрж╛ ржПржХрж╕рж╛ржерзЗ ржПржХржмрж╛рж░рзЗржЗ ржЖржкржбрзЗржЯ рж╣рзЯ тАФ ржжрзНрж░рзБржд ржХрж╛ржЬ, ржХржо рж▓рзЛржбред

ЁЯОБ рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ:
ржПржХржЯрж╛рж░ ржкрж░ ржПржХржЯрж╛ ржХрж░рж▓рзЗ = slow

ржПржХрж╕рж╛ржерзЗ рж╕ржм ржХрж░рж▓рзЗ = fast (bulk operation)

тЬЕ Django-рждрзЗ ржпрзЗржЧрзБрж▓рзЛ Bulk рж╣рзЯ:
update()

delete()

bulk_create()

bulk_update()

рж╕ржмржЧрзБрж▓рзЛрждрзЗржЗ ржЕржирзЗржХ ржбрзЗржЯрж╛ ржПржХржмрж╛рж░рзЗ ржкрзНрж░рж╕рзЗрж╕ рж╣рзЯред

ржмрзЛржЭрж╛ ржЧрзЗржЫрзЗ? ржпржжрж┐ ржЪрж╛ржЗрж▓рзЗ ржЫрзЛржЯрзНржЯ ржкрзНрж░тАНрзНржпрж╛ржХрзНржЯрж┐ржХрж╛рж▓ ржбрзЗржорзЛ ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рж┐!